{"ast":null,"code":"import clamp from 'lodash-es/clamp';\nvar animationIDStorage = new WeakMap();\nexport function scrollTo(scrollbar, x, y, duration, _a) {\n  if (duration === void 0) {\n    duration = 0;\n  }\n\n  var _b = _a === void 0 ? {} : _a,\n      _c = _b.easing,\n      easing = _c === void 0 ? defaultEasing : _c,\n      callback = _b.callback;\n\n  var options = scrollbar.options,\n      offset = scrollbar.offset,\n      limit = scrollbar.limit;\n\n  if (options.renderByPixels) {\n    // ensure resolved with integer\n    x = Math.round(x);\n    y = Math.round(y);\n  }\n\n  var startX = offset.x;\n  var startY = offset.y;\n  var disX = clamp(x, 0, limit.x) - startX;\n  var disY = clamp(y, 0, limit.y) - startY;\n  var start = Date.now();\n\n  function scroll() {\n    var elapse = Date.now() - start;\n    var progress = duration ? easing(Math.min(elapse / duration, 1)) : 1;\n    scrollbar.setPosition(startX + disX * progress, startY + disY * progress);\n\n    if (elapse >= duration) {\n      if (typeof callback === 'function') {\n        callback.call(scrollbar);\n      }\n    } else {\n      var animationID = requestAnimationFrame(scroll);\n      animationIDStorage.set(scrollbar, animationID);\n    }\n  }\n\n  cancelAnimationFrame(animationIDStorage.get(scrollbar));\n  scroll();\n}\n/**\n * easeOutCubic\n */\n\nfunction defaultEasing(t) {\n  return Math.pow(t - 1, 3) + 1;\n}","map":{"version":3,"mappings":"AAAA,OAAOA,KAAP,MAAkB,iBAAlB;AACA,IAAIC,kBAAkB,GAAG,IAAIC,OAAJ,EAAzB;AACA,OAAO,SAASC,QAAT,CAAkBC,SAAlB,EAA6BC,CAA7B,EAAgCC,CAAhC,EAAmCC,QAAnC,EAA6CC,EAA7C,EAAiD;AACpD,MAAID,QAAQ,KAAK,KAAK,CAAtB,EAAyB;AAAEA,IAAAA,QAAQ,GAAG,CAAX;AAAe;;AAC1C,MAAIE,EAAE,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,EAAhB,GAAqBA,EAA9B;AAAA,MAAkCE,EAAE,GAAGD,EAAE,CAACE,MAA1C;AAAA,MAAkDA,MAAM,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgBE,aAAhB,GAAgCF,EAA3F;AAAA,MAA+FG,QAAQ,GAAGJ,EAAE,CAACI,QAA7G;;AACA,MAAIC,OAAO,GAAGV,SAAS,CAACU,OAAxB;AAAA,MAAiCC,MAAM,GAAGX,SAAS,CAACW,MAApD;AAAA,MAA4DC,KAAK,GAAGZ,SAAS,CAACY,KAA9E;;AACA,MAAIF,OAAO,CAACG,cAAZ,EAA4B;AACxB;AACAZ,IAAAA,CAAC,GAAGa,IAAI,CAACC,KAAL,CAAWd,CAAX,CAAJ;AACAC,IAAAA,CAAC,GAAGY,IAAI,CAACC,KAAL,CAAWb,CAAX,CAAJ;AACH;;AACD,MAAIc,MAAM,GAAGL,MAAM,CAACV,CAApB;AACA,MAAIgB,MAAM,GAAGN,MAAM,CAACT,CAApB;AACA,MAAIgB,IAAI,GAAGtB,KAAK,CAACK,CAAD,EAAI,CAAJ,EAAOW,KAAK,CAACX,CAAb,CAAL,GAAuBe,MAAlC;AACA,MAAIG,IAAI,GAAGvB,KAAK,CAACM,CAAD,EAAI,CAAJ,EAAOU,KAAK,CAACV,CAAb,CAAL,GAAuBe,MAAlC;AACA,MAAIG,KAAK,GAAGC,IAAI,CAACC,GAAL,EAAZ;;AACA,WAASC,MAAT,GAAkB;AACd,QAAIC,MAAM,GAAGH,IAAI,CAACC,GAAL,KAAaF,KAA1B;AACA,QAAIK,QAAQ,GAAGtB,QAAQ,GAAGI,MAAM,CAACO,IAAI,CAACY,GAAL,CAASF,MAAM,GAAGrB,QAAlB,EAA4B,CAA5B,CAAD,CAAT,GAA4C,CAAnE;AACAH,IAAAA,SAAS,CAAC2B,WAAV,CAAsBX,MAAM,GAAGE,IAAI,GAAGO,QAAtC,EAAgDR,MAAM,GAAGE,IAAI,GAAGM,QAAhE;;AACA,QAAID,MAAM,IAAIrB,QAAd,EAAwB;AACpB,UAAI,OAAOM,QAAP,KAAoB,UAAxB,EAAoC;AAChCA,QAAAA,QAAQ,CAACmB,IAAT,CAAc5B,SAAd;AACH;AACJ,KAJD,MAKK;AACD,UAAI6B,WAAW,GAAGC,qBAAqB,CAACP,MAAD,CAAvC;AACA1B,MAAAA,kBAAkB,CAACkC,GAAnB,CAAuB/B,SAAvB,EAAkC6B,WAAlC;AACH;AACJ;;AACDG,EAAAA,oBAAoB,CAACnC,kBAAkB,CAACoC,GAAnB,CAAuBjC,SAAvB,CAAD,CAApB;AACAuB,EAAAA,MAAM;AACT;AACD;AACA;AACA;;AACA,SAASf,aAAT,CAAuB0B,CAAvB,EAA0B;AACtB,SAAOpB,IAAI,CAACqB,GAAL,CAAUD,CAAC,GAAG,CAAd,EAAkB,CAAlB,IAAuB,CAA9B;AACH","names":["clamp","animationIDStorage","WeakMap","scrollTo","scrollbar","x","y","duration","_a","_b","_c","easing","callback","offset","limit","options","renderByPixels","Math","round","startX","startY","disX","disY","start","Date","now","scroll","elapse","progress","min","setPosition","call","animationID","requestAnimationFrame","set","cancelAnimationFrame","get","defaultEasing","t"],"sourceRoot":"","sources":["../src/scrolling/scroll-to.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}