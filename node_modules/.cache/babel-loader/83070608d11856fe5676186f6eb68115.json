{"ast":null,"code":"import { eventScope } from '../utils/';\nexport function wheelHandler(scrollbar) {\n  var addEvent = eventScope(scrollbar);\n  var target = scrollbar.options.delegateTo || scrollbar.containerEl;\n  var eventName = 'onwheel' in window || document.implementation.hasFeature('Events.wheel', '3.0') ? 'wheel' : 'mousewheel';\n  addEvent(target, eventName, function (evt) {\n    var _a = normalizeDelta(evt),\n        x = _a.x,\n        y = _a.y;\n\n    scrollbar.addTransformableMomentum(x, y, evt, function (willScroll) {\n      if (willScroll) {\n        evt.preventDefault();\n      }\n    });\n  });\n} // Normalizing wheel delta\n\nvar DELTA_SCALE = {\n  STANDARD: 1,\n  OTHERS: -3\n};\nvar DELTA_MODE = [1.0, 28.0, 500.0];\n\nvar getDeltaMode = function (mode) {\n  return DELTA_MODE[mode] || DELTA_MODE[0];\n};\n\nfunction normalizeDelta(evt) {\n  if ('deltaX' in evt) {\n    var mode = getDeltaMode(evt.deltaMode);\n    return {\n      x: evt.deltaX / DELTA_SCALE.STANDARD * mode,\n      y: evt.deltaY / DELTA_SCALE.STANDARD * mode\n    };\n  }\n\n  if ('wheelDeltaX' in evt) {\n    return {\n      x: evt.wheelDeltaX / DELTA_SCALE.OTHERS,\n      y: evt.wheelDeltaY / DELTA_SCALE.OTHERS\n    };\n  } // ie with touchpad\n\n\n  return {\n    x: 0,\n    y: evt.wheelDelta / DELTA_SCALE.OTHERS\n  };\n}","map":{"version":3,"mappings":"AAAA,SAASA,UAAT,QAA4B,WAA5B;AACA,OAAO,SAASC,YAAT,CAAsBC,SAAtB,EAAiC;AACpC,MAAIC,QAAQ,GAAGH,UAAU,CAACE,SAAD,CAAzB;AACA,MAAIE,MAAM,GAAGF,SAAS,CAACG,OAAV,CAAkBC,UAAlB,IAAgCJ,SAAS,CAACK,WAAvD;AACA,MAAIC,SAAS,GAAI,aAAaC,MAAb,IAAuBC,QAAQ,CAACC,cAAT,CAAwBC,UAAxB,CAAmC,cAAnC,EAAmD,KAAnD,CAAxB,GAAqF,OAArF,GAA+F,YAA/G;AACAT,EAAAA,QAAQ,CAACC,MAAD,EAASI,SAAT,EAAoB,UAAUK,GAAV,EAAe;AACvC,QAAIC,EAAE,GAAGC,cAAc,CAACF,GAAD,CAAvB;AAAA,QAA8BG,CAAC,GAAGF,EAAE,CAACE,CAArC;AAAA,QAAwCC,CAAC,GAAGH,EAAE,CAACG,CAA/C;;AACAf,IAAAA,SAAS,CAACgB,wBAAV,CAAmCF,CAAnC,EAAsCC,CAAtC,EAAyCJ,GAAzC,EAA8C,UAAUM,UAAV,EAAsB;AAChE,UAAIA,UAAJ,EAAgB;AACZN,QAAAA,GAAG,CAACO,cAAJ;AACH;AACJ,KAJD;AAKH,GAPO,CAAR;AAQH,C,CACD;;AACA,IAAIC,WAAW,GAAG;AACdC,EAAAA,QAAQ,EAAE,CADI;AAEdC,EAAAA,MAAM,EAAE,CAAC;AAFK,CAAlB;AAIA,IAAIC,UAAU,GAAG,CAAC,GAAD,EAAM,IAAN,EAAY,KAAZ,CAAjB;;AACA,IAAIC,YAAY,GAAG,UAAUC,IAAV,EAAgB;AAAE,SAAOF,UAAU,CAACE,IAAD,CAAV,IAAoBF,UAAU,CAAC,CAAD,CAArC;AAA2C,CAAhF;;AACA,SAAST,cAAT,CAAwBF,GAAxB,EAA6B;AACzB,MAAI,YAAYA,GAAhB,EAAqB;AACjB,QAAIa,IAAI,GAAGD,YAAY,CAACZ,GAAG,CAACc,SAAL,CAAvB;AACA,WAAO;AACHX,MAAAA,CAAC,EAAEH,GAAG,CAACe,MAAJ,GAAaP,WAAW,CAACC,QAAzB,GAAoCI,IADpC;AAEHT,MAAAA,CAAC,EAAEJ,GAAG,CAACgB,MAAJ,GAAaR,WAAW,CAACC,QAAzB,GAAoCI;AAFpC,KAAP;AAIH;;AACD,MAAI,iBAAiBb,GAArB,EAA0B;AACtB,WAAO;AACHG,MAAAA,CAAC,EAAEH,GAAG,CAACiB,WAAJ,GAAkBT,WAAW,CAACE,MAD9B;AAEHN,MAAAA,CAAC,EAAEJ,GAAG,CAACkB,WAAJ,GAAkBV,WAAW,CAACE;AAF9B,KAAP;AAIH,GAbwB,CAczB;;;AACA,SAAO;AACHP,IAAAA,CAAC,EAAE,CADA;AAEHC,IAAAA,CAAC,EAAEJ,GAAG,CAACmB,UAAJ,GAAiBX,WAAW,CAACE;AAF7B,GAAP;AAIH","names":["eventScope","wheelHandler","scrollbar","addEvent","target","options","delegateTo","containerEl","eventName","window","document","implementation","hasFeature","evt","x","y","addTransformableMomentum","willScroll","preventDefault","DELTA_SCALE","STANDARD","OTHERS","DELTA_MODE","getDeltaMode","mode","normalizeDelta","deltaMode","deltaX","deltaY","wheelDeltaX","wheelDeltaY","wheelDelta"],"sourceRoot":"","sources":["../src/events/wheel.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}