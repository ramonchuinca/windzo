{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport { __assign, __decorate } from \"tslib\";\nimport clamp from 'lodash-es/clamp';\nimport { Options } from './options';\nimport { setStyle, clearEventsOn } from './utils/';\nimport { debounce } from './decorators/';\nimport { TrackController } from './track/';\nimport { getSize, update, isVisible } from './geometry/';\nimport { scrollTo, setPosition, scrollIntoView } from './scrolling/';\nimport { initPlugins } from './plugin';\nimport * as eventHandlers from './events/'; // DO NOT use WeakMap here\n// .getAll() methods requires `scrollbarMap.values()`\n\nexport var scrollbarMap = new Map();\n\nvar Scrollbar =\n/** @class */\nfunction () {\n  function Scrollbar(containerEl, options) {\n    var _this = this;\n    /**\n     * Current scrolling offsets\n     */\n\n\n    this.offset = {\n      x: 0,\n      y: 0\n    };\n    /**\n     * Max-allowed scrolling offsets\n     */\n\n    this.limit = {\n      x: Infinity,\n      y: Infinity\n    };\n    /**\n     * Container bounding rect\n     */\n\n    this.bounding = {\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0\n    }; // private _observer: ResizeObserver;\n\n    this._plugins = [];\n    this._momentum = {\n      x: 0,\n      y: 0\n    };\n    this._listeners = new Set();\n    this.containerEl = containerEl;\n    var contentEl = this.contentEl = document.createElement('div');\n    this.options = new Options(options); // mark as a scroll element\n\n    containerEl.setAttribute('data-scrollbar', 'true'); // make container focusable\n\n    containerEl.setAttribute('tabindex', '-1');\n    setStyle(containerEl, {\n      overflow: 'hidden',\n      outline: 'none'\n    }); // enable touch event capturing in IE, see:\n    // https://github.com/idiotWu/smooth-scrollbar/issues/39\n\n    if (window.navigator.msPointerEnabled) {\n      containerEl.style.msTouchAction = 'none';\n    } // mount content\n\n\n    contentEl.className = 'scroll-content';\n    Array.from(containerEl.childNodes).forEach(function (node) {\n      contentEl.appendChild(node);\n    });\n    containerEl.appendChild(contentEl); // attach track\n\n    this.track = new TrackController(this); // initial measuring\n\n    this.size = this.getSize(); // init plugins\n\n    this._plugins = initPlugins(this, this.options.plugins); // preserve scroll offset\n\n    var scrollLeft = containerEl.scrollLeft,\n        scrollTop = containerEl.scrollTop;\n    containerEl.scrollLeft = containerEl.scrollTop = 0;\n    this.setPosition(scrollLeft, scrollTop, {\n      withoutCallbacks: true\n    }); // FIXME: update typescript\n\n    var ResizeObserver = window.ResizeObserver; // observe\n\n    if (typeof ResizeObserver === 'function') {\n      this._observer = new ResizeObserver(function () {\n        _this.update();\n      });\n\n      this._observer.observe(contentEl);\n    }\n\n    scrollbarMap.set(containerEl, this); // wait for DOM ready\n\n    requestAnimationFrame(function () {\n      _this._init();\n    });\n  }\n\n  Object.defineProperty(Scrollbar.prototype, \"parent\", {\n    /**\n     * Parent scrollbar\n     */\n    get: function () {\n      var elem = this.containerEl.parentElement;\n\n      while (elem) {\n        var parentScrollbar = scrollbarMap.get(elem);\n\n        if (parentScrollbar) {\n          return parentScrollbar;\n        }\n\n        elem = elem.parentElement;\n      }\n\n      return null;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Scrollbar.prototype, \"scrollTop\", {\n    /**\n     * Gets or sets `scrollbar.offset.y`\n     */\n    get: function () {\n      return this.offset.y;\n    },\n    set: function (y) {\n      this.setPosition(this.scrollLeft, y);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Scrollbar.prototype, \"scrollLeft\", {\n    /**\n     * Gets or sets `scrollbar.offset.x`\n     */\n    get: function () {\n      return this.offset.x;\n    },\n    set: function (x) {\n      this.setPosition(x, this.scrollTop);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * Returns the size of the scrollbar container element\n   * and the content wrapper element\n   */\n\n  Scrollbar.prototype.getSize = function () {\n    return getSize(this);\n  };\n  /**\n   * Forces scrollbar to update geometry infomation.\n   *\n   * By default, scrollbars are automatically updated with `100ms` debounce (or `MutationObserver` fires).\n   * You can call this method to force an update when you modified contents\n   */\n\n\n  Scrollbar.prototype.update = function () {\n    update(this);\n\n    this._plugins.forEach(function (plugin) {\n      plugin.onUpdate();\n    });\n  };\n  /**\n   * Checks if an element is visible in the current view area\n   */\n\n\n  Scrollbar.prototype.isVisible = function (elem) {\n    return isVisible(this, elem);\n  };\n  /**\n   * Sets the scrollbar to the given offset without easing\n   */\n\n\n  Scrollbar.prototype.setPosition = function (x, y, options) {\n    var _this = this;\n\n    if (x === void 0) {\n      x = this.offset.x;\n    }\n\n    if (y === void 0) {\n      y = this.offset.y;\n    }\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    var status = setPosition(this, x, y);\n\n    if (!status || options.withoutCallbacks) {\n      return;\n    }\n\n    this._listeners.forEach(function (fn) {\n      fn.call(_this, status);\n    });\n  };\n  /**\n   * Scrolls to given position with easing function\n   */\n\n\n  Scrollbar.prototype.scrollTo = function (x, y, duration, options) {\n    if (x === void 0) {\n      x = this.offset.x;\n    }\n\n    if (y === void 0) {\n      y = this.offset.y;\n    }\n\n    if (duration === void 0) {\n      duration = 0;\n    }\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    scrollTo(this, x, y, duration, options);\n  };\n  /**\n   * Scrolls the target element into visible area of scrollbar,\n   * likes the DOM method `element.scrollIntoView().\n   */\n\n\n  Scrollbar.prototype.scrollIntoView = function (elem, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    scrollIntoView(this, elem, options);\n  };\n  /**\n   * Adds scrolling listener\n   */\n\n\n  Scrollbar.prototype.addListener = function (fn) {\n    if (typeof fn !== 'function') {\n      throw new TypeError('[smooth-scrollbar] scrolling listener should be a function');\n    }\n\n    this._listeners.add(fn);\n  };\n  /**\n   * Removes listener previously registered with `scrollbar.addListener()`\n   */\n\n\n  Scrollbar.prototype.removeListener = function (fn) {\n    this._listeners.delete(fn);\n  };\n  /**\n   * Adds momentum and applys delta transformers.\n   */\n\n\n  Scrollbar.prototype.addTransformableMomentum = function (x, y, fromEvent, callback) {\n    this._updateDebounced();\n\n    var finalDelta = this._plugins.reduce(function (delta, plugin) {\n      return plugin.transformDelta(delta, fromEvent) || delta;\n    }, {\n      x: x,\n      y: y\n    });\n\n    var willScroll = !this._shouldPropagateMomentum(finalDelta.x, finalDelta.y);\n\n    if (willScroll) {\n      this.addMomentum(finalDelta.x, finalDelta.y);\n    }\n\n    if (callback) {\n      callback.call(this, willScroll);\n    }\n  };\n  /**\n   * Increases scrollbar's momentum\n   */\n\n\n  Scrollbar.prototype.addMomentum = function (x, y) {\n    this.setMomentum(this._momentum.x + x, this._momentum.y + y);\n  };\n  /**\n   * Sets scrollbar's momentum to given value\n   */\n\n\n  Scrollbar.prototype.setMomentum = function (x, y) {\n    if (this.limit.x === 0) {\n      x = 0;\n    }\n\n    if (this.limit.y === 0) {\n      y = 0;\n    }\n\n    if (this.options.renderByPixels) {\n      x = Math.round(x);\n      y = Math.round(y);\n    }\n\n    this._momentum.x = x;\n    this._momentum.y = y;\n  };\n  /**\n   * Update options for specific plugin\n   *\n   * @param pluginName Name of the plugin\n   * @param [options] An object includes the properties that you want to update\n   */\n\n\n  Scrollbar.prototype.updatePluginOptions = function (pluginName, options) {\n    this._plugins.forEach(function (plugin) {\n      if (plugin.name === pluginName) {\n        Object.assign(plugin.options, options);\n      }\n    });\n  };\n\n  Scrollbar.prototype.destroy = function () {\n    var _a = this,\n        containerEl = _a.containerEl,\n        contentEl = _a.contentEl;\n\n    clearEventsOn(this);\n\n    this._listeners.clear();\n\n    this.setMomentum(0, 0);\n    cancelAnimationFrame(this._renderID);\n\n    if (this._observer) {\n      this._observer.disconnect();\n    }\n\n    scrollbarMap.delete(this.containerEl); // restore contents\n\n    var childNodes = Array.from(contentEl.childNodes);\n\n    while (containerEl.firstChild) {\n      containerEl.removeChild(containerEl.firstChild);\n    }\n\n    childNodes.forEach(function (el) {\n      containerEl.appendChild(el);\n    }); // reset scroll position\n\n    setStyle(containerEl, {\n      overflow: ''\n    });\n    containerEl.scrollTop = this.scrollTop;\n    containerEl.scrollLeft = this.scrollLeft; // invoke plugin.onDestroy\n\n    this._plugins.forEach(function (plugin) {\n      plugin.onDestroy();\n    });\n\n    this._plugins.length = 0;\n  };\n\n  Scrollbar.prototype._init = function () {\n    var _this = this;\n\n    this.update(); // init evet handlers\n\n    Object.keys(eventHandlers).forEach(function (prop) {\n      eventHandlers[prop](_this);\n    }); // invoke `plugin.onInit`\n\n    this._plugins.forEach(function (plugin) {\n      plugin.onInit();\n    });\n\n    this._render();\n  };\n\n  Scrollbar.prototype._updateDebounced = function () {\n    this.update();\n  }; // check whether to propagate monmentum to parent scrollbar\n  // the following situations are considered as `true`:\n  //         1. continuous scrolling is enabled (automatically disabled when overscroll is enabled)\n  //         2. scrollbar reaches one side and is not about to scroll on the other direction\n\n\n  Scrollbar.prototype._shouldPropagateMomentum = function (deltaX, deltaY) {\n    if (deltaX === void 0) {\n      deltaX = 0;\n    }\n\n    if (deltaY === void 0) {\n      deltaY = 0;\n    }\n\n    var _a = this,\n        options = _a.options,\n        offset = _a.offset,\n        limit = _a.limit;\n\n    if (!options.continuousScrolling) return false; // force an update when scrollbar is \"unscrollable\", see #106\n\n    if (limit.x === 0 && limit.y === 0) {\n      this._updateDebounced();\n    }\n\n    var destX = clamp(deltaX + offset.x, 0, limit.x);\n    var destY = clamp(deltaY + offset.y, 0, limit.y);\n    var res = true; // offsets are not about to change\n    // `&=` operator is not allowed for boolean types\n\n    res = res && destX === offset.x;\n    res = res && destY === offset.y; // current offsets are on the edge\n\n    res = res && (offset.x === limit.x || offset.x === 0 || offset.y === limit.y || offset.y === 0);\n    return res;\n  };\n\n  Scrollbar.prototype._render = function () {\n    var _momentum = this._momentum;\n\n    if (_momentum.x || _momentum.y) {\n      var nextX = this._nextTick('x');\n\n      var nextY = this._nextTick('y');\n\n      _momentum.x = nextX.momentum;\n      _momentum.y = nextY.momentum;\n      this.setPosition(nextX.position, nextY.position);\n    }\n\n    var remain = __assign({}, this._momentum);\n\n    this._plugins.forEach(function (plugin) {\n      plugin.onRender(remain);\n    });\n\n    this._renderID = requestAnimationFrame(this._render.bind(this));\n  };\n\n  Scrollbar.prototype._nextTick = function (direction) {\n    var _a = this,\n        options = _a.options,\n        offset = _a.offset,\n        _momentum = _a._momentum;\n\n    var current = offset[direction];\n    var remain = _momentum[direction];\n\n    if (Math.abs(remain) <= 0.1) {\n      return {\n        momentum: 0,\n        position: current + remain\n      };\n    }\n\n    var nextMomentum = remain * (1 - options.damping);\n\n    if (options.renderByPixels) {\n      nextMomentum |= 0;\n    }\n\n    return {\n      momentum: nextMomentum,\n      position: current + remain - nextMomentum\n    };\n  };\n\n  __decorate([debounce(100, {\n    leading: true\n  })], Scrollbar.prototype, \"_updateDebounced\", null);\n\n  return Scrollbar;\n}();\n\nexport { Scrollbar };","map":{"version":3,"mappings":"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","names":["clamp","Options","setStyle","clearEventsOn","debounce","TrackController","getSize","update","isVisible","scrollTo","setPosition","scrollIntoView","initPlugins","eventHandlers","scrollbarMap","Map","containerEl","options","x","y","Infinity","top","right","bottom","left","Set","contentEl","document","createElement","setAttribute","overflow","outline","window","navigator","msPointerEnabled","style","msTouchAction","className","Array","from","childNodes","forEach","node","appendChild","track","size","_plugins","plugins","scrollTop","scrollLeft","withoutCallbacks","ResizeObserver","_observer","_this","observe","set","requestAnimationFrame","_init","Object","Scrollbar","elem","parentElement","parentScrollbar","get","offset","plugin","onUpdate","status","_listeners","fn","call","duration","TypeError","add","delete","fromEvent","callback","_updateDebounced","finalDelta","reduce","delta","transformDelta","willScroll","_shouldPropagateMomentum","addMomentum","setMomentum","_momentum","limit","renderByPixels","Math","round","pluginName","name","assign","clear","cancelAnimationFrame","_renderID","disconnect","firstChild","removeChild","el","onDestroy","length","keys","prop","onInit","_render","deltaX","deltaY","continuousScrolling","destX","destY","res","nextX","_nextTick","nextY","momentum","position","remain","onRender","bind","direction","current","abs","nextMomentum","damping","__decorate","leading"],"sourceRoot":"","sources":["src/scrollbar.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}