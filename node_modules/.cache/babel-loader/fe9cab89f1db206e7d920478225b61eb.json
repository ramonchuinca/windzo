{"ast":null,"code":"require(\"core-js/modules/es.error.cause.js\");\n\n!function (e, n) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = n() : \"function\" == typeof define && define.amd ? define(n) : (e || self)[\"v-click-outside\"] = n();\n}(this, function () {\n  var e = \"__v-click-outside\",\n      n = \"undefined\" != typeof window,\n      t = \"undefined\" != typeof navigator,\n      r = n && (\"ontouchstart\" in window || t && navigator.msMaxTouchPoints > 0) ? [\"touchstart\"] : [\"click\"],\n      i = function (e) {\n    var n = e.event,\n        t = e.handler;\n    (0, e.middleware)(n) && t(n);\n  },\n      a = function (n, t) {\n    var a = function (e) {\n      var n = \"function\" == typeof e;\n      if (!n && \"object\" != typeof e) throw new Error(\"v-click-outside: Binding value must be a function or an object\");\n      return {\n        handler: n ? e : e.handler,\n        middleware: e.middleware || function (e) {\n          return e;\n        },\n        events: e.events || r,\n        isActive: !(!1 === e.isActive),\n        detectIframe: !(!1 === e.detectIframe),\n        capture: Boolean(e.capture)\n      };\n    }(t.value),\n        o = a.handler,\n        d = a.middleware,\n        c = a.detectIframe,\n        u = a.capture;\n\n    if (a.isActive) {\n      if (n[e] = a.events.map(function (e) {\n        return {\n          event: e,\n          srcTarget: document.documentElement,\n          handler: function (e) {\n            return function (e) {\n              var n = e.el,\n                  t = e.event,\n                  r = e.handler,\n                  a = e.middleware,\n                  o = t.path || t.composedPath && t.composedPath();\n              (o ? o.indexOf(n) < 0 : !n.contains(t.target)) && i({\n                event: t,\n                handler: r,\n                middleware: a\n              });\n            }({\n              el: n,\n              event: e,\n              handler: o,\n              middleware: d\n            });\n          },\n          capture: u\n        };\n      }), c) {\n        var l = {\n          event: \"blur\",\n          srcTarget: window,\n          handler: function (e) {\n            return function (e) {\n              var n = e.el,\n                  t = e.event,\n                  r = e.handler,\n                  a = e.middleware;\n              setTimeout(function () {\n                var e = document.activeElement;\n                e && \"IFRAME\" === e.tagName && !n.contains(e) && i({\n                  event: t,\n                  handler: r,\n                  middleware: a\n                });\n              }, 0);\n            }({\n              el: n,\n              event: e,\n              handler: o,\n              middleware: d\n            });\n          },\n          capture: u\n        };\n        n[e] = [].concat(n[e], [l]);\n      }\n\n      n[e].forEach(function (t) {\n        var r = t.event,\n            i = t.srcTarget,\n            a = t.handler;\n        return setTimeout(function () {\n          n[e] && i.addEventListener(r, a, u);\n        }, 0);\n      });\n    }\n  },\n      o = function (n) {\n    (n[e] || []).forEach(function (e) {\n      return e.srcTarget.removeEventListener(e.event, e.handler, e.capture);\n    }), delete n[e];\n  },\n      d = n ? {\n    beforeMount: a,\n    updated: function (e, n) {\n      var t = n.value,\n          r = n.oldValue;\n      JSON.stringify(t) !== JSON.stringify(r) && (o(e), a(e, {\n        value: t\n      }));\n    },\n    unmounted: o\n  } : {};\n\n  return {\n    install: function (e) {\n      e.directive(\"click-outside\", d);\n    },\n    directive: d\n  };\n});","map":{"version":3,"mappings":"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","names":["HANDLERS_PROPERTY","t","HAS_WINDOWS","navigator","r","window","EVENTS","msMaxTouchPoints","n","e","execHandler","event","handler","middleware","el","bindingValue","item","events","isActive","detectIframe","capture","Boolean","eventName","srcTarget","document","documentElement","a","path","composedPath","indexOf","contains","target","setTimeout","activeElement","tagName","detectIframeEvent","forEach","thisHandler","o","addEventListener","unmounted","removeEventListener","beforeMount","updated","value","oldValue","JSON","stringify","install","Vue"],"sources":["../src/v-click-outside.js","../src/index.js"],"sourcesContent":["/**\n * Modified for Vue 3 from https://github.com/ndelvalle/v-click-outside\n * Cf. https://github.com/ndelvalle/v-click-outside/issues/238\n */\nconst HANDLERS_PROPERTY = \"__v-click-outside\";\nconst HAS_WINDOWS = typeof window !== \"undefined\";\nconst HAS_NAVIGATOR = typeof navigator !== \"undefined\";\nconst IS_TOUCH =\n  HAS_WINDOWS &&\n  (\"ontouchstart\" in window ||\n    (HAS_NAVIGATOR && navigator.msMaxTouchPoints > 0));\nconst EVENTS = IS_TOUCH ? [\"touchstart\"] : [\"click\"];\nconst processDirectiveArguments = (bindingValue) => {\n  const isFunction = typeof bindingValue === \"function\";\n  if (!isFunction && typeof bindingValue !== \"object\") {\n    throw new Error(\n      \"v-click-outside: Binding value must be a function or an object\"\n    );\n  }\n  return {\n    handler: isFunction ? bindingValue : bindingValue.handler,\n    middleware: bindingValue.middleware || ((item) => item),\n    events: bindingValue.events || EVENTS,\n    isActive: !(bindingValue.isActive === false),\n    detectIframe: !(bindingValue.detectIframe === false),\n    capture: Boolean(bindingValue.capture),\n  };\n};\nconst execHandler = ({ event, handler, middleware }) => {\n  if (middleware(event)) {\n    handler(event);\n  }\n};\nconst onFauxIframeClick = ({ el, event, handler, middleware }) => {\n  // Note: on firefox clicking on iframe triggers blur, but only on\n  //       next event loop it becomes document.activeElement\n  // https://stackoverflow.com/q/2381336#comment61192398_23231136\n  setTimeout(() => {\n    const { activeElement } = document;\n    if (\n      activeElement &&\n      activeElement.tagName === \"IFRAME\" &&\n      !el.contains(activeElement)\n    ) {\n      execHandler({ event, handler, middleware });\n    }\n  }, 0);\n};\nconst onEvent = ({ el, event, handler, middleware }) => {\n  // Note: composedPath is not supported on IE and Edge, more information here:\n  //       https://developer.mozilla.org/en-US/docs/Web/API/Event/composedPath\n  //       In the meanwhile, we are using el.contains for those browsers, not\n  //       the ideal solution, but using IE or EDGE is not ideal either.\n  const path = event.path || (event.composedPath && event.composedPath());\n  const isClickOutside = path\n    ? path.indexOf(el) < 0\n    : !el.contains(event.target);\n  if (!isClickOutside) {\n    return;\n  }\n  execHandler({ event, handler, middleware });\n};\nconst beforeMount = (el, { value }) => {\n  const {\n    events,\n    handler,\n    middleware,\n    isActive,\n    detectIframe,\n    capture,\n  } = processDirectiveArguments(value);\n  if (!isActive) {\n    return;\n  }\n  el[HANDLERS_PROPERTY] = events.map((eventName) => ({\n    event: eventName,\n    srcTarget: document.documentElement,\n    handler: (event) => onEvent({ el, event, handler, middleware }),\n    capture,\n  }));\n  if (detectIframe) {\n    const detectIframeEvent = {\n      event: \"blur\",\n      srcTarget: window,\n      handler: (event) => onFauxIframeClick({ el, event, handler, middleware }),\n      capture,\n    };\n    el[HANDLERS_PROPERTY] = [...el[HANDLERS_PROPERTY], detectIframeEvent];\n  }\n  el[HANDLERS_PROPERTY].forEach(({ event, srcTarget, handler: thisHandler }) =>\n    setTimeout(() => {\n      // Note: More info about this implementation can be found here:\n      //       https://github.com/ndelvalle/v-click-outside/issues/137\n      if (!el[HANDLERS_PROPERTY]) {\n        return;\n      }\n      srcTarget.addEventListener(event, thisHandler, capture);\n    }, 0)\n  );\n};\nconst unmounted = (el) => {\n  const handlers = el[HANDLERS_PROPERTY] || [];\n  handlers.forEach(({ event, srcTarget, handler, capture }) =>\n    srcTarget.removeEventListener(event, handler, capture)\n  );\n  delete el[HANDLERS_PROPERTY];\n};\nconst updated = (el, { value, oldValue }) => {\n  if (JSON.stringify(value) === JSON.stringify(oldValue)) {\n    return;\n  }\n  unmounted(el);\n  beforeMount(el, { value });\n};\nconst directive = {\n  beforeMount,\n  updated,\n  unmounted,\n};\nexport default HAS_WINDOWS ? directive : {};\n","import directive from './v-click-outside'\n\nconst plugin = {\n  install(Vue) {\n    Vue.directive('click-outside', directive)\n  },\n  directive,\n}\n\nexport default plugin\n"]},"metadata":{},"sourceType":"script"}